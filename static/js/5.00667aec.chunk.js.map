{"version":3,"sources":["components/Users/User.module.css","components/common/Paginator/Paginator.module.css","components/Users/Users.module.css","assets/images/defaultBg.jpg","assets/images/defaultImg.png","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.js","components/UsersMain/UsersMain.jsx"],"names":["module","exports","User","props","className","styles","box","src","defaultBg","alt","bg","meta","to","user","id","photos","small","defaultImg","avatar","name","href","link","location","info","status","disabled","followingInProgress","some","onClick","toggleFollowing","button","isFollowed","Paginator","page","onPageChanged","currentPage","pagItem","selected","Users","totalUsersCount","pageSize","users","pagesCount","Math","ceil","pages","i","push","allUsers","map","paginator","pagination","getAllUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getIsAuth","auth","isAuth","UsersContainer","pageNum","getUsers","this","Preloader","React","Component","dispatches","toggleFollow","togglePage","toggleFollowingProgress","compose","connect","UsersMain","Container"],"mappings":"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","file":"static/js/5.00667aec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"User_box__QpGLZ\",\"bg\":\"User_bg__1wEnD\",\"meta\":\"User_meta__RROxr\",\"avatar\":\"User_avatar__3Rkdj\",\"name\":\"User_name__AIlmC\",\"link\":\"User_link__K7jkX\",\"location\":\"User_location__2w8p5\",\"info\":\"User_info__1EyHP\",\"button\":\"User_button__2ag88\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagItem\":\"Paginator_pagItem__36g81\",\"selected\":\"Paginator_selected__2cTTO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Users_pagination__2Njh9\"};","export default __webpack_public_path__ + \"static/media/defaultBg.bc18e694.jpg\";","export default __webpack_public_path__ + \"static/media/defaultImg.06e7d20e.png\";","import React from 'react';\nimport defaultBg from '../../assets/images/defaultBg.jpg';\nimport { NavLink } from 'react-router-dom';\nimport defaultImg from '../../assets/images/defaultImg.png';\n\nimport styles from './User.module.css';\n\nconst User = (props) => {\n    return (\n        <div className={ styles.box }>\n            <figure>\n                <img src={ defaultBg }\n                     alt=\"\" className={ styles.bg } />\n            </figure>\n            <div className={ styles.meta }>\n                <NavLink to={ `/profile/${ props.user.id }` }>\n                    <img src={ props.user.photos.small ? props.user.photos.small : defaultImg }\n                         className={ styles.avatar } alt='' />\n                </NavLink>\n                <div className={ styles.name }>\n                    <a href=\"\" className={ styles.link }>\n                        { props.user.name }\n                    </a>\n                    <span className={ styles.location }>\n                                        { 'user.location.city' }, { 'user.location.country' }\n                                    </span>\n                </div>\n                <ul className={ styles.info }>\n                    <li>\n                        { props.user.status }\n                    </li>\n                </ul>\n                <button disabled={ props.followingInProgress.some(id => id === props.user.id) } onClick={ () => {\n                    props.toggleFollowing(props.user.id);\n                } } className={ styles.button }>\n                    { props.user.isFollowed ? 'Unfollow' : 'Follow' } {/* TODO: когда уйдет 429, проверить кнопку  */ }\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default User;\n","import React from 'react';\n\nimport styles from './Paginator.module.css';\n\nconst Paginator = ({ page, onPageChanged, currentPage }) => {\n    return (\n        <span key={ page }\n              onClick={ () => onPageChanged(page) }\n              className={ ` ${ styles.pagItem }\n              ${ currentPage === page && styles.selected } `\n              }>\n            { page }\n        </span>\n    );\n};\n\nexport default Paginator;\n","import React from 'react';\nimport User from './User';\nimport Paginator from '../common/Paginator/Paginator';\n\nimport styles from './Users.module.css';\n\nconst Users = ({ totalUsersCount, pageSize, users, toggleFollowing, followingInProgress, onPageChanged, currentPage }) => {\n    const pagesCount = Math.ceil(totalUsersCount / pageSize);\n    const pages = [];\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    const allUsers = users.map(user => {\n        return <User\n            key={ user.id }\n            user={ user }\n            toggleFollowing={ toggleFollowing }\n            followingInProgress={ followingInProgress }\n        />;\n    });\n\n    const paginator = pages.map(page => {\n        return <Paginator\n            key={ page }\n            page={ page }\n            onPageChanged={ onPageChanged }\n            currentPage={ currentPage }\n        />;\n    });\n\n    return (\n        <div>\n            { allUsers }\n            <div className={styles.pagination}>\n                { paginator }\n            </div>\n        </div>\n    );\n};\n\nexport default Users;\n","export const getAllUsers = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}\n\nexport const getIsAuth = (state) => {\n    return state.auth.isAuth;\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n    getUsers,\n    toggleFollow,\n    toggleFollowing,\n    toggleFollowingProgress,\n    togglePage\n} from '../../redux/users-reducers';\nimport Users from './Users';\nimport Preloader from '../common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport {\n    getAllUsers,\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsAuth,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount\n} from '../../redux/users-selectors';\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        const { currentPage, pageSize } = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNum) => {\n        const { pageSize } = this.props;\n        this.props.getUsers(pageNum, pageSize);\n    };\n\n    render() {\n        return (\n            <>\n                { this.props.isFetching ? <Preloader /> : null }\n                <Users totalUsersCount={ this.props.totalUsersCount }\n                       pageSize={ this.props.pageSize }\n                       currentPage={ this.props.currentPage }\n                       users={ this.props.users }\n                       onPageChanged={ this.onPageChanged }\n                       followingInProgress={ this.props.followingInProgress }\n                       toggleFollowing={ this.props.toggleFollowing }\n                />\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getAllUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n        isAuth: getIsAuth(state)\n    };\n};\n\nconst dispatches = {\n    toggleFollow,\n    togglePage,\n    toggleFollowingProgress,\n    getUsers,\n    toggleFollowing\n};\n\nexport default compose(\n    connect(mapStateToProps, dispatches))(UsersContainer);\n","import Container from '../Container/Container';\nimport React from 'react';\nimport UsersContainer from '../Users/UsersContainer';\n\nconst UsersMain = () => {\n    return (\n        <main>\n            <Container>\n                <UsersContainer />\n            </Container>\n        </main>\n    );\n};\n\nexport default UsersMain;"],"sourceRoot":""}