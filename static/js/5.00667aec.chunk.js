(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{328:function(e,n,t){e.exports={box:"User_box__QpGLZ",bg:"User_bg__1wEnD",meta:"User_meta__RROxr",avatar:"User_avatar__3Rkdj",name:"User_name__AIlmC",link:"User_link__K7jkX",location:"User_location__2w8p5",info:"User_info__1EyHP",button:"User_button__2ag88"}},329:function(e,n,t){e.exports={pagItem:"Paginator_pagItem__36g81",selected:"Paginator_selected__2cTTO"}},330:function(e,n,t){e.exports={pagination:"Users_pagination__2Njh9"}},332:function(e,n,t){"use strict";t.r(n);var s=t(0),r=t(113),a=t(1),o=t.n(a),i=t(29),c=t(30),l=t(32),g=t(31),u=t(14),p=t(135),j=t.p+"static/media/defaultBg.bc18e694.jpg",h=t(40),d=t.p+"static/media/defaultImg.06e7d20e.png",b=t(328),f=t.n(b),m=function(e){return Object(s.jsxs)("div",{className:f.a.box,children:[Object(s.jsx)("figure",{children:Object(s.jsx)("img",{src:j,alt:"",className:f.a.bg})}),Object(s.jsxs)("div",{className:f.a.meta,children:[Object(s.jsx)(h.b,{to:"/profile/".concat(e.user.id),children:Object(s.jsx)("img",{src:e.user.photos.small?e.user.photos.small:d,className:f.a.avatar,alt:""})}),Object(s.jsxs)("div",{className:f.a.name,children:[Object(s.jsx)("a",{href:"",className:f.a.link,children:e.user.name}),Object(s.jsxs)("span",{className:f.a.location,children:["user.location.city",", ","user.location.country"]})]}),Object(s.jsx)("ul",{className:f.a.info,children:Object(s.jsx)("li",{children:e.user.status})}),Object(s.jsxs)("button",{disabled:e.followingInProgress.some((function(n){return n===e.user.id})),onClick:function(){e.toggleFollowing(e.user.id)},className:f.a.button,children:[e.user.isFollowed?"Unfollow":"Follow"," "]})]})]})},_=t(329),P=t.n(_),O=function(e){var n=e.page,t=e.onPageChanged,r=e.currentPage;return Object(s.jsx)("span",{onClick:function(){return t(n)},className:" ".concat(P.a.pagItem,"\n              ").concat(r===n&&P.a.selected," "),children:n},n)},x=t(330),w=t.n(x),v=function(e){for(var n=e.totalUsersCount,t=e.pageSize,r=e.users,a=e.toggleFollowing,o=e.followingInProgress,i=e.onPageChanged,c=e.currentPage,l=Math.ceil(n/t),g=[],u=1;u<=l;u++)g.push(u);var p=r.map((function(e){return Object(s.jsx)(m,{user:e,toggleFollowing:a,followingInProgress:o},e.id)})),j=g.map((function(e){return Object(s.jsx)(O,{page:e,onPageChanged:i,currentPage:c},e)}));return Object(s.jsxs)("div",{children:[p,Object(s.jsx)("div",{className:w.a.pagination,children:j})]})},U=t(53),C=t(11),F=function(e){return e.usersPage.users},I=function(e){return e.usersPage.pageSize},N=function(e){return e.usersPage.totalUsersCount},k=function(e){return e.usersPage.currentPage},y=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},S=function(e){return e.auth.isAuth},A=function(e){Object(l.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(i.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).onPageChanged=function(n){var t=e.props.pageSize;e.props.getUsers(n,t)},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize;this.props.getUsers(n,t)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(U.a,{}):null,Object(s.jsx)(v,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,toggleFollowing:this.props.toggleFollowing})]})}}]),t}(o.a.Component),R={toggleFollow:p.b,togglePage:p.e,toggleFollowingProgress:p.d,getUsers:p.a,toggleFollowing:p.c},D=Object(C.compose)(Object(u.b)((function(e){return{users:F(e),pageSize:I(e),totalUsersCount:N(e),currentPage:k(e),isFetching:y(e),followingInProgress:z(e),isAuth:S(e)}}),R))(A);n.default=function(){return Object(s.jsx)("main",{children:Object(s.jsx)(r.a,{children:Object(s.jsx)(D,{})})})}}}]);
//# sourceMappingURL=5.00667aec.chunk.js.map