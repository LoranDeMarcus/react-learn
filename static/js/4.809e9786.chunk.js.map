{"version":3,"sources":["components/Dialogs/User/User.module.css","components/Dialogs/Chat/User/User.module.css","components/Dialogs/Chat/Message/Message.module.css","components/Dialogs/Chat/Chat.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/User/User.jsx","components/Dialogs/Chat/User/User.jsx","components/Dialogs/Chat/Message/Message.jsx","components/Dialogs/Chat/Chat.jsx","components/Dialogs/Chat/ChatContainer.jsx","components/Dialogs/Dialogs.jsx"],"names":["module","exports","User","props","className","styles","user","to","path","link","activeClassName","active","src","avatar","alt","status","online","name","secondName","lastMessage","data","name_wrapper","status_text","Message","message","me","chatbox","text","time","message_status","d","Date","h","getHours","m","getMinutes","currentTime","getMessageTime","ChatFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","type","placeholder","Chat","isAuth","messagesElements","messagesPage","map","dialogs","id","block","head","messages","textbox","values","sendMessage","compose","connect","state","newMessageBody","dispatch","sendMessageCreator","withAuthRedirect","Dialogs","dialogsData","store","getState","dialog","main","messages_head","users","ChatContainer"],"mappings":"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","file":"static/js/4.809e9786.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__wKDll\",\"link\":\"User_link__2DL0O\",\"active\":\"User_active__2n5JZ\",\"status\":\"User_status__Gsdff\",\"online\":\"User_online__1NOv5\",\"name\":\"User_name__3xdFe\",\"lastMessage\":\"User_lastMessage__3Qu5y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__31-Er\",\"status\":\"User_status__n1zXn\",\"online\":\"User_online__4gKj8\",\"name_wrapper\":\"User_name_wrapper__3aRCD\",\"name\":\"User_name__MKO9D\",\"status_text\":\"User_status_text__3odyW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2MFzr\",\"me\":\"Message_me__16wsy\",\"chatbox\":\"Message_chatbox__iZGc1\",\"text\":\"Message_text__3xDM9\",\"time\":\"Message_time__EY-3w\",\"message_status\":\"Message_message_status__28S9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Chat_block__2SyYK\",\"head\":\"Chat_head__1oBFG\",\"messages\":\"Chat_messages__242PC\",\"textbox\":\"Chat_textbox__JuZwU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Dialogs_main__1AMQJ\",\"messages\":\"Dialogs_messages__1w_Up\",\"messages_head\":\"Dialogs_messages_head__1gE3l\",\"users\":\"Dialogs_users__2mbFo\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport styles from './User.module.css';\n\nconst User = (props) => {\n    return (\n        <li className={ styles.user }>\n            <NavLink to={ props.path } className={ styles.link } activeClassName={ styles.active }>\n                <figure>\n                    <img src={ props.avatar } alt=\"\" />\n                    <span className={ `${ styles.status } ${ props.online ? styles.online : '' }` } />\n                </figure>\n                <span className={ styles.name }>\n                    <h6>{ props.name } { props.secondName }</h6>\n                    <span className={ styles.lastMessage }>\n                        { props.lastMessage }\n                    </span>\n                </span>\n            </NavLink>\n        </li>\n    );\n};\n\nexport default User;","import React from 'react';\n\nimport styles from './User.module.css';\n\nconst User = (props) => {\n    return (\n        <div className={ styles.user }>\n            <figure>\n                <img src={ props.data[0].avatar } alt=\"\" />\n                <span className={ `${ styles.status } ${ props.data[0].online ? styles.online : '' }` } />\n            </figure>\n            <div className={ styles.name_wrapper }>\n                <h6 className={ styles.name }>\n                    { props.data[0].name }\n                </h6>\n                <span className={ styles.status_text }>\n                    { props.data[0].online ? 'Online' : 'Offline' }\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default User;","import React from 'react';\n\nimport styles from './Message.module.css';\n\nconst Message = (props) => {\n    const getMessageTime = () => {\n        const d = new Date(),\n            h = (d.getHours() < 10 ? '0' : '') + d.getHours(),\n            m = (d.getMinutes() < 10 ? '0' : '') + d.getMinutes();\n        const currentTime = `${ h }:${ m }`\n\n        return props.time || currentTime;\n    };\n\n    return (\n        <li className={ `${ styles.message } ${ styles.me }` }>\n            <figure>\n                <img src={ props.data[0].avatar } alt=\"\" />\n            </figure>\n            <div className={ styles.chatbox }>\n                <p className={ styles.text }>\n                    { props.message }\n                </p>\n                <span className={ styles.time }>\n                    <span className={ styles.message_status }>\n                        <i className=\"fas fa-check\" />\n                        <i className=\"fas fa-check\" />\n                    </span>\n                    { getMessageTime() }\n                </span>\n            </div>\n        </li>\n    );\n};\n\nexport default Message;","import React from 'react';\nimport User from './User/User';\nimport Message from './Message/Message';\nimport { Redirect } from 'react-router';\nimport { Field, reduxForm } from 'redux-form';\n\nimport styles from './Chat.module.css';\n\nconst Chat = (props) => {\n    if (!props.isAuth) return <Redirect to='/login' />;\n\n    const messagesElements = props.messagesPage.map(message => {\n        return <Message key={message.id} data={ props.dialogs } message={ message.message } /* todo: переделать структура state */\n                        time={ message.time } />;\n    });\n\n    const addNewMessage = (values) => {\n        props.sendMessage(values.message);\n    };\n\n    return (\n        <div className={ styles.block }>\n            <div className={ styles.head }>\n                <User data={ props.dialogs } />\n            </div>\n            <ul className={ styles.messages }>\n                { messagesElements }\n            </ul>\n            <div className={ styles.textbox }>\n                <ChatFormRedux onSubmit={ addNewMessage } />\n            </div>\n        </div>\n    );\n};\n\nconst ChatForm = (props) => {\n    return (\n        <form onSubmit={ props.handleSubmit }>\n            <Field\n                component={ 'input' }\n                name={ 'message' }\n                type={ 'text' }\n                placeholder={ 'write your message here..' }\n            />\n            <button type={ 'submit' }>\n                <i className=\"fas fa-paper-plane\" />\n            </button>\n        </form>\n    );\n};\n\nconst ChatFormRedux = reduxForm({ form: 'chat' })(ChatForm);\n\nexport default Chat;\n","import React from 'react';\nimport { sendMessageCreator } from '../../../redux/messages-reducer';\nimport Chat from './Chat';\nimport connect from 'react-redux/lib/connect/connect';\nimport { withAuthRedirect } from '../../../HOC/withAuthRedirect';\nimport { compose } from 'redux';\n\nconst mapStateToProps = (state) => {\n    return {\n        dialogs: state.messagesPage.dialogs,\n        newMessageBody: state.messagesPage.newMessageBody,\n        messagesPage: state.messagesPage.messages\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        sendMessage: (message) => {\n            dispatch(sendMessageCreator(message))\n        }\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Chat);","import React from 'react';\nimport User from './User/User';\nimport ChatContainer from './Chat/ChatContainer';\n\nimport styles from './Dialogs.module.css';\n\nconst Dialogs = (props) => {\n    const state = props.store.getState();\n    const dialogsData = state.messagesPage.dialogs.map(dialog =>\n        <User key={ dialog.id }\n              path={ `/messages/${ dialog.id }` }\n              id={ dialog.id }\n              avatar={ dialog.avatar }\n              online={ dialog.online }\n              name={ dialog.name }\n              secondName={ dialog.secondName }\n              lastMessage={ dialog.lastMessage }\n        />\n    );\n\n    return (\n        <div className={ styles.main }>\n            <div className={ styles.messages }>\n                <div className={ styles.messages_head }>\n                    <h4>Chat Messages</h4>\n                    <ul className={ styles.users }>\n                        { dialogsData }\n                    </ul>\n                </div>\n            </div>\n            <ChatContainer store={ props.store } />\n        </div>\n    );\n};\n\nexport default Dialogs;\n"],"sourceRoot":""}